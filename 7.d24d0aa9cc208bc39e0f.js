(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yw3L:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminSettingsModule",function(){return X});var i=n("ofXK"),c=n("tyNb"),s=n("20UA"),l=n("2Vo4"),r=n("LRne"),a=n("vkgz"),b=n("lJxs"),o=n("eIep"),d=n("gcYM"),h=n("5+tZ"),g=n("Kqap"),u=n("vxfF"),p=n("fXoL"),m=n("6NWb"),f=n("3Pt+");function I(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",2),p.Zb("click",function(){return p.rc(e),p.bc().toggle()}),p.Nb(1,"fa-icon",3),p.Rb()}if(2&e){const e=p.bc();p.hc("disabled",e.isDisabled)}}function v(e,t){if(1&e){const e=p.Tb();p.Sb(0,"button",4),p.Zb("click",function(){return p.rc(e),p.bc().toggle()}),p.Nb(1,"fa-icon",5),p.Rb()}if(2&e){const e=p.bc();p.hc("disabled",e.isDisabled)}}let S=(()=>{class e{constructor(){this.value=!1,this.valueChange=new p.n,this.isDisabled=!1}toggle(){this.value=!this.value,this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Gb({type:e,selectors:[["app-yes-no-check"]],inputs:{value:"value",isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[["class","btn btn-success","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-danger","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["icon","check"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["icon","times"]],template:function(e,t){1&e&&(p.wc(0,I,2,1,"button",0),p.wc(1,v,2,1,"button",1)),2&e&&(p.hc("ngIf",t.value),p.Bb(1),p.hc("ngIf",!t.value))},directives:[i.l,m.a],styles:[""]}),e})();var y=n("HDdC"),R=n("qCdp");function C(e,t){if(1&e&&(p.Sb(0,"div",1),p.Sb(1,"div",12),p.yc(2),p.Rb(),p.Sb(3,"div",13),p.yc(4),p.Rb(),p.Rb()),2&e){const e=t.$implicit;p.Bb(2),p.zc(e.ingredientName),p.Bb(2),p.Bc("",e.amount," ",e.measurementUnit,"")}}let w=(()=>{class e{constructor(e){this.ingredientClient=e,this.recipeIngredientsChange=new p.n,this.recipeIngredients=[],this.ingredients=new y.a(e=>{e.next(this.asyncIngredientName)}).pipe(Object(h.b)(e=>this.getIngredientsAsObservable(e)))}ngOnInit(){}addItem(){this.recipeIngredients.push(new s.B({amount:this.amount,ingredientId:this.ingredientSelected.id,ingredientName:this.ingredientSelected.name,measurementUnit:this.ingredientSelected.measurementUnit})),this.amount=void 0,this.ingredientSelected=null,this.asyncIngredientName="",this.recipeIngredientsChange.emit(this.recipeIngredients)}onIngredientSelected(e){this.ingredientSelected=e.item}getIngredientsAsObservable(e){return this.ingredientClient.get(0,10,e).pipe(Object(b.a)(e=>e.content))}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(s.i))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-recipe-ingredients"]],inputs:{recipeIngredients:"recipeIngredients"},outputs:{recipeIngredientsChange:"recipeIngredientsChange"},decls:15,vars:11,consts:[[1,"card"],[1,"container","row","align-items-center"],[1,"col-lg-8","p-2"],["for","client",1,"form-label"],["id","client","placeholder","Keres\xe9s...","typeaheadOptionField","name",1,"form-control",3,"ngModel","isAnimated","typeaheadAsync","typeahead","typeaheadOnSelect","ngModelChange"],[1,"col-lg-3","col-11","p-2"],["for","amount",1,"form-label"],["id","amount",1,"form-control",3,"ngModel","isAnimated","min","typeahead","ngModelChange"],[1,"col-1","p-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["icon","plus"],["class","container row align-items-center",4,"ngFor","ngForOf"],[1,"col-8","p-2","pl-4"],[1,"col-4","p-2","pl-4"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.Sb(2,"div",2),p.Sb(3,"label",3),p.yc(4,"Alapanyag: "),p.Rb(),p.Sb(5,"input",4),p.Zb("typeaheadOnSelect",function(e){return t.onIngredientSelected(e)})("ngModelChange",function(e){return t.asyncIngredientName=e}),p.Rb(),p.Rb(),p.Sb(6,"div",5),p.Sb(7,"label",6),p.yc(8),p.Rb(),p.Sb(9,"input",7),p.Zb("ngModelChange",function(e){return t.amount=e}),p.Rb(),p.Rb(),p.Sb(10,"div",8),p.Sb(11,"button",9),p.Zb("click",function(){return t.addItem()}),p.Nb(12,"fa-icon",10),p.Rb(),p.Rb(),p.Nb(13,"hr"),p.wc(14,C,5,3,"div",11),p.Rb(),p.Rb()),2&e&&(p.Bb(5),p.hc("ngModel",t.asyncIngredientName)("isAnimated",!0)("typeaheadAsync",!0)("typeahead",t.ingredients),p.Bb(3),p.Ac("Mennyis\xe9g (",null==t.ingredientSelected?null:t.ingredientSelected.measurementUnit,"): "),p.Bb(1),p.hc("ngModel",t.amount)("isAnimated",!0)("min",0)("typeahead",null),p.Bb(2),p.hc("disabled",!(t.ingredientSelected&&t.amount)),p.Bb(3),p.hc("ngForOf",t.recipeIngredients))},directives:[f.b,f.h,f.j,R.a,m.a,i.k],styles:[""]}),e})();function x(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",11),p.Sb(1,"div",12),p.Sb(2,"h2"),p.yc(3),p.Rb(),p.Sb(4,"button",13),p.Zb("click",function(){return p.rc(e),p.bc().close().subscribe()}),p.Nb(5,"fa-icon",14),p.Rb(),p.Rb(),p.Sb(6,"div",12),p.Sb(7,"div",15),p.Sb(8,"label",16),p.yc(9,"N\xe9v: "),p.Rb(),p.Sb(10,"input",17),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItemDetails.name=t}),p.Rb(),p.Rb(),p.Rb(),p.Sb(11,"div",18),p.Sb(12,"label",19),p.yc(13,"Rendelhet\u0151:"),p.Rb(),p.Sb(14,"app-yes-no-check",20),p.Zb("valueChange",function(t){return p.rc(e),p.bc().selectedItemDetails.canBeOrdered=t}),p.Rb(),p.Rb(),p.Sb(15,"div",12),p.Sb(16,"div",15),p.Sb(17,"label",21),p.yc(18,"Le\xedr\xe1s(c\xedmk\xe9kre): "),p.Rb(),p.Sb(19,"input",22),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItemDetails.descriptionForLabels=t}),p.Rb(),p.Rb(),p.Rb(),p.Sb(20,"div",12),p.Sb(21,"div",15),p.Sb(22,"label",23),p.yc(23,"Egys\xe9g\xe1r: "),p.Rb(),p.Sb(24,"input",24),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItemDetails.pricePerUnit=t}),p.Rb(),p.Rb(),p.Rb(),p.Sb(25,"app-recipe-ingredients",25),p.Zb("recipeIngredientsChange",function(t){return p.rc(e),p.bc().selectedItemDetails.ingredients=t}),p.Rb(),p.Rb()}if(2&e){const e=p.bc();p.Bb(3),p.zc(e.selectedItemDetails.name),p.Bb(7),p.hc("ngModel",e.selectedItemDetails.name),p.Bb(4),p.hc("value",e.selectedItemDetails.canBeOrdered),p.Bb(5),p.hc("ngModel",e.selectedItemDetails.descriptionForLabels),p.Bb(5),p.hc("ngModel",e.selectedItemDetails.pricePerUnit),p.Bb(1),p.hc("recipeIngredients",e.selectedItemDetails.ingredients)}}const M=function(e,t,n){return{"btn-primary":e,"btn-light":t,"btn-secondary":n}};function k(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",29),p.Zb("click",function(){p.rc(e);const n=t.$implicit;return p.bc(2).select(n)}),p.Sb(1,"button",30),p.yc(2),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,n=p.bc(2);p.Bb(1),p.hc("ngClass",p.mc(2,M,e!==n.selectedItem&&e.canBeOrdered,e!==n.selectedItem&&!e.canBeOrdered,e===n.selectedItem)),p.Bb(1),p.zc(e.name)}}function O(e,t){if(1&e){const e=p.Tb();p.Qb(0,26),p.Sb(1,"cdk-virtual-scroll-viewport",27),p.Zb("scrolledIndexChange",function(n){p.rc(e);const i=t.ngIf;return p.bc().nextBatch(n,i.length)}),p.wc(2,k,3,6,"div",28),p.Rb(),p.Pb()}if(2&e){const e=t.ngIf;p.Bb(2),p.hc("cdkVirtualForOf",e)}}let B=(()=>{class e{constructor(e){this.recipeClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.recipeClient.list(e,this.batch,this.searchText).pipe(Object(a.a)(e=>this.theEnd=!e.hasMore),Object(b.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().pipe(Object(b.a)(()=>this.selectedItem=e),Object(o.a)(()=>this.recipeClient.get(e.id)),Object(a.a)(e=>this.selectedItemDetails=e)).subscribe()}onSearchTextChange(e){this.reset()}add(){this.selectedItemDetails=new s.A({descriptionForLabels:"",pricePerUnit:0,name:this.searchText,id:void 0,canBeOrdered:!0,ingredients:[]})}close(){if(this.selectedItemDetails){const e=new s.y({id:this.selectedItemDetails.id,name:this.selectedItemDetails.name,canBeOrdered:this.selectedItemDetails.canBeOrdered,descriptionForLabels:this.selectedItemDetails.descriptionForLabels,pricePerUnit:this.selectedItemDetails.pricePerUnit,ingredients:[...this.selectedItemDetails.ingredients.map(e=>new s.z({ingredientId:e.ingredientId,amount:e.amount}))]});return this.selectedItemDetails.id?this.recipeClient.put(e.id,e).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.recipeClient.post(e).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""}))}return Object(r.a)(null)}reset(){this.selectedItem=null,this.selectedItemDetails=null;const e=this.offset.pipe(Object(d.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(s.x))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-recipe-config"]],viewQuery:function(e,t){if(1&e&&p.Fc(u.c,1),2&e){let e;p.oc(e=p.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group","w-100"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"mr-2"],[3,"value","valueChange"],["for","description"],["id","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],["id","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"recipeIngredients","recipeIngredientsChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.wc(2,x,26,6,"div",2),p.Rb(),p.Sb(3,"div",1),p.Sb(4,"div",3),p.Sb(5,"div",4),p.Nb(6,"fa-icon",5),p.Sb(7,"input",6),p.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Rb(),p.Sb(8,"button",7),p.Zb("click",function(){return t.add()}),p.Nb(9,"fa-icon",8),p.Rb(),p.Rb(),p.Sb(10,"div",9),p.wc(11,O,3,1,"ng-container",10),p.cc(12,"async"),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.Bb(2),p.hc("ngIf",t.selectedItemDetails),p.Bb(5),p.hc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.hc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.hc("ngIf",p.dc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,S,f.k,w,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function j(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",11),p.Sb(1,"div",12),p.Sb(2,"h2"),p.yc(3),p.Rb(),p.Sb(4,"button",13),p.Zb("click",function(){return p.rc(e),p.bc().close().subscribe()}),p.Nb(5,"fa-icon",14),p.Rb(),p.Rb(),p.Sb(6,"div",15),p.Sb(7,"label",16),p.yc(8,"N\xe9v"),p.Rb(),p.Sb(9,"input",17),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.name=t}),p.Rb(),p.Rb(),p.Sb(10,"div",15),p.Sb(11,"label",18),p.yc(12,"Telefonsz\xe1m"),p.Rb(),p.Sb(13,"input",19),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.phone=t}),p.Rb(),p.Rb(),p.Sb(14,"div",15),p.Sb(15,"label",20),p.yc(16,"Email"),p.Rb(),p.Sb(17,"input",21),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.email=t}),p.Rb(),p.Rb(),p.Sb(18,"div",15),p.Sb(19,"label",22),p.yc(20,"Orsz\xe1g"),p.Rb(),p.Sb(21,"input",23),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.address.country=t}),p.Rb(),p.Rb(),p.Sb(22,"div",15),p.Sb(23,"label",24),p.yc(24,"Megye"),p.Rb(),p.Sb(25,"input",25),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.address.region=t}),p.Rb(),p.Rb(),p.Sb(26,"div",15),p.Sb(27,"label",26),p.yc(28,"V\xe1ros"),p.Rb(),p.Sb(29,"input",27),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.address.city=t}),p.Rb(),p.Rb(),p.Sb(30,"div",15),p.Sb(31,"label",28),p.yc(32,"C\xedm"),p.Rb(),p.Sb(33,"input",29),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.address.addressLine=t}),p.Rb(),p.Rb(),p.Sb(34,"div",15),p.Sb(35,"label",30),p.yc(36,"Ir\xe1ny\xedt\xf3sz\xe1m"),p.Rb(),p.Sb(37,"input",31),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.address.zip=t}),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=p.bc();p.Bb(3),p.zc(e.selectedItem.name),p.Bb(6),p.hc("ngModel",e.selectedItem.name),p.Bb(4),p.hc("ngModel",e.selectedItem.phone),p.Bb(4),p.hc("ngModel",e.selectedItem.email),p.Bb(4),p.hc("ngModel",e.selectedItem.address.country),p.Bb(4),p.hc("ngModel",e.selectedItem.address.region),p.Bb(4),p.hc("ngModel",e.selectedItem.address.city),p.Bb(4),p.hc("ngModel",e.selectedItem.address.addressLine),p.Bb(4),p.hc("ngModel",e.selectedItem.address.zip)}}const T=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function D(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",35),p.Zb("click",function(){p.rc(e);const n=t.$implicit;return p.bc(2).select(n)}),p.Sb(1,"button",36),p.yc(2),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,n=p.bc(2);p.Bb(1),p.hc("ngClass",p.lc(2,T,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.zc(e.name)}}function Z(e,t){if(1&e){const e=p.Tb();p.Qb(0,32),p.Sb(1,"cdk-virtual-scroll-viewport",33),p.Zb("scrolledIndexChange",function(n){p.rc(e);const i=t.ngIf;return p.bc().nextBatch(n,i[i.length-1].name)}),p.wc(2,D,3,5,"div",34),p.Rb(),p.Pb()}if(2&e){const e=t.ngIf;p.Bb(2),p.hc("cdkVirtualForOf",e)}}let z=(()=>{class e{constructor(e){this.clientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.clientClient.get(e,this.batch,this.searchText).pipe(Object(a.a)(e=>this.theEnd=!e.hasMore),Object(b.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.d({name:this.searchText,email:"",phone:"",id:void 0,address:new s.b})}close(){return this.selectedItem?this.selectedItem.id?this.clientClient.put(this.selectedItem).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.clientClient.post(this.selectedItem).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(r.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(d.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(s.e))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-client-config"]],viewQuery:function(e,t){if(1&e&&p.Fc(u.c,1),2&e){let e;p.oc(e=p.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["id","phone","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","country"],["id","country","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","region"],["id","region","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","city"],["id","city","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressLine"],["id","addressLine","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","zip"],["id","zip","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.wc(2,j,38,9,"div",2),p.Rb(),p.Sb(3,"div",1),p.Sb(4,"div",3),p.Sb(5,"div",4),p.Nb(6,"fa-icon",5),p.Sb(7,"input",6),p.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Rb(),p.Sb(8,"button",7),p.Zb("click",function(){return t.add()}),p.Nb(9,"fa-icon",8),p.Rb(),p.Rb(),p.Sb(10,"div",9),p.wc(11,Z,3,1,"ng-container",10),p.cc(12,"async"),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.Bb(2),p.hc("ngIf",t.selectedItem),p.Bb(5),p.hc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.hc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.hc("ngIf",p.dc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function P(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",11),p.Sb(1,"div",12),p.Sb(2,"div",13),p.Sb(3,"label",14),p.yc(4,"N\xe9v: "),p.Rb(),p.Sb(5,"input",15),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.name=t}),p.Rb(),p.Rb(),p.Sb(6,"button",16),p.Zb("click",function(){return p.rc(e),p.bc().close().subscribe()}),p.Nb(7,"fa-icon",17),p.Rb(),p.Rb(),p.Sb(8,"div",13),p.Sb(9,"label",18),p.yc(10,"M\xe9rt\xe9kegys\xe9g: "),p.Rb(),p.Sb(11,"input",19),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.measurementUnit=t}),p.Rb(),p.Rb(),p.Sb(12,"div",13),p.Sb(13,"label",20),p.yc(14,"Rendel\xe9si mennyis\xe9g(Csomag): "),p.Rb(),p.Sb(15,"input",21),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.quantityPerPackage=t}),p.Rb(),p.Rb(),p.Sb(16,"div",13),p.Sb(17,"label",22),p.yc(18,"Rakt\xe1r riaszt\xe1si szint: "),p.Rb(),p.Sb(19,"input",23),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItem.warningThreshold=t}),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=p.bc();p.Bb(5),p.hc("ngModel",e.selectedItem.name),p.Bb(6),p.hc("ngModel",e.selectedItem.measurementUnit),p.Bb(4),p.hc("ngModel",e.selectedItem.quantityPerPackage),p.Bb(4),p.hc("ngModel",e.selectedItem.warningThreshold)}}const F=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function N(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",27),p.Zb("click",function(){p.rc(e);const n=t.$implicit;return p.bc(2).select(n)}),p.Sb(1,"button",28),p.yc(2),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,n=p.bc(2);p.Bb(1),p.hc("ngClass",p.lc(2,F,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.zc(e.name)}}function A(e,t){if(1&e){const e=p.Tb();p.Qb(0,24),p.Sb(1,"cdk-virtual-scroll-viewport",25),p.Zb("scrolledIndexChange",function(n){p.rc(e);const i=t.ngIf;return p.bc().nextBatch(n,i.length)}),p.wc(2,N,3,5,"div",26),p.Rb(),p.Pb()}if(2&e){const e=t.ngIf;p.Bb(2),p.hc("cdkVirtualForOf",e)}}let L=(()=>{class e{constructor(e){this.ingredientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.ingredientClient.get(e,this.batch,this.searchText).pipe(Object(a.a)(e=>this.theEnd=!e.hasMore),Object(b.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.j({name:this.searchText,id:void 0,measurementUnit:"darab",amountOnHand:0,quantityPerPackage:1,warningThreshold:0})}close(){var e;return this.selectedItem?(null===(e=this.selectedItem)||void 0===e?void 0:e.id)?this.ingredientClient.put(this.selectedItem).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.ingredientClient.post(this.selectedItem).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(r.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(d.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(s.i))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-ingredient-config"]],viewQuery:function(e,t){if(1&e&&p.Fc(u.c,1),2&e){let e;p.oc(e=p.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],["for","measurementUnit"],["id","measurementUnit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","quantityPerPackage"],["id","quantityPerPackage","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","warningThreshold"],["id","warningThreshold","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.wc(2,P,20,4,"div",2),p.Rb(),p.Sb(3,"div",1),p.Sb(4,"div",3),p.Sb(5,"div",4),p.Nb(6,"fa-icon",5),p.Sb(7,"input",6),p.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Rb(),p.Sb(8,"button",7),p.Zb("click",function(){return t.add()}),p.Nb(9,"fa-icon",8),p.Rb(),p.Rb(),p.Sb(10,"div",9),p.wc(11,A,3,1,"ng-container",10),p.cc(12,"async"),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.Bb(2),p.hc("ngIf",t.selectedItem),p.Bb(5),p.hc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.hc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.hc("ngIf",p.dc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();var E=n("KQdn"),U=n("44PX"),V=n("wAQb");function $(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",23),p.Sb(1,"div"),p.Sb(2,"input",24),p.Zb("ngModelChange",function(n){p.rc(e);const i=t.$implicit;return p.bc(2).setRole(i,n)}),p.Rb(),p.Sb(3,"label",25),p.yc(4),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,n=p.bc(2);p.Bb(2),p.ic("id","role-",e,""),p.hc("ngModel",n.hasRole(e)),p.Bb(1),p.ic("for","role-",e,""),p.Bb(1),p.zc(n.roles.get(e))}}function Q(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",11),p.Sb(1,"div",12),p.Sb(2,"h2"),p.yc(3),p.Rb(),p.Sb(4,"button",13),p.Zb("click",function(){return p.rc(e),p.bc().close().subscribe()}),p.Nb(5,"fa-icon",14),p.Rb(),p.Rb(),p.Sb(6,"div",12),p.Sb(7,"div",15),p.Sb(8,"label",16),p.yc(9,"Email: "),p.Rb(),p.Sb(10,"input",17),p.Zb("ngModelChange",function(t){return p.rc(e),p.bc().selectedItemDetails.email=t}),p.Rb(),p.Rb(),p.Rb(),p.Sb(11,"button",18),p.Zb("click",function(){return p.rc(e),p.bc().changePassword()}),p.yc(12,"Jelsz\xf3 m\xf3dos\xedt\xe1sa"),p.Rb(),p.Sb(13,"tabset"),p.Sb(14,"tab",19),p.Zb("selectTab",function(){return p.rc(e),p.bc().onSetToClient(!0)}),p.Sb(15,"app-client-select",20),p.Zb("selectedClientChange",function(t){return p.rc(e),p.bc().selectedItemDetails.client=t}),p.Rb(),p.Rb(),p.Sb(16,"tab",21),p.Zb("selectTab",function(){return p.rc(e),p.bc().onSetToClient(!1)}),p.Sb(17,"h4"),p.yc(18,"Jogosults\xe1gok:"),p.Rb(),p.wc(19,$,5,4,"div",22),p.Rb(),p.Rb(),p.Rb()}if(2&e){const e=p.bc();p.Bb(3),p.zc(e.selectedItemDetails.name),p.Bb(7),p.hc("ngModel",e.selectedItemDetails.email),p.Bb(4),p.hc("active",!!e.selectedItemDetails.client),p.Bb(1),p.hc("selectedClient",e.selectedItemDetails.client),p.Bb(4),p.hc("ngForOf",e.roleTypes)}}const q=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function G(e,t){if(1&e){const e=p.Tb();p.Sb(0,"div",29),p.Zb("click",function(){p.rc(e);const n=t.$implicit;return p.bc(2).select(n)}),p.Sb(1,"button",30),p.yc(2),p.Rb(),p.Rb()}if(2&e){const e=t.$implicit,n=p.bc(2);p.Bb(1),p.hc("ngClass",p.lc(2,q,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.zc(e.name)}}function K(e,t){if(1&e){const e=p.Tb();p.Qb(0,26),p.Sb(1,"cdk-virtual-scroll-viewport",27),p.Zb("scrolledIndexChange",function(n){p.rc(e);const i=t.ngIf;return p.bc().nextBatch(n,i.length)}),p.wc(2,G,3,5,"div",28),p.Rb(),p.Pb()}if(2&e){const e=t.ngIf;p.Bb(2),p.hc("cdkVirtualForOf",e)}}const J=[{path:"recipes",component:B},{path:"clients",component:z},{path:"ingredients",component:L},{path:"users",component:(()=>{class e{constructor(e,t){this.securityClient=e,this.authService=t,this.roles=new Map([[s.C.Admin,"Admin"],[s.C.Order,"Megrendel\xe9s"],[s.C.Manufacturing,"Gy\xe1rt\xe1s"],[s.C.Delivery,"Kisz\xe1ll\xed\xe1s"],[s.C.Configuration,"Konfigur\xe1cio"]]),this.roleTypes=[...this.roles.keys()],this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.securityClient.list(this.searchText,e,this.batch).pipe(Object(a.a)(e=>this.theEnd=!e.hasMore),Object(b.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().pipe(Object(b.a)(()=>this.selectedItem=e),Object(o.a)(()=>this.securityClient.getUserInfo(e.id)),Object(a.a)(e=>this.selectedItemDetails=e)).subscribe()}onSearchTextChange(e){this.reset()}add(){this.selectedItemDetails=new s.F({name:this.searchText,id:void 0,roles:[],client:null,email:""})}close(){var e;if(this.selectedItemDetails){const t=new s.E({name:this.selectedItemDetails.name,email:this.selectedItemDetails.email,roles:this.selectedItemDetails.roles,clientId:null===(e=this.selectedItemDetails.client)||void 0===e?void 0:e.id});return this.selectedItemDetails.id?this.securityClient.update(t,this.selectedItemDetails.id).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.searchText=""})):this.securityClient.create(t).pipe(Object(a.a)(e=>{Object.assign(this.selectedItem,e),this.searchText=""}))}return Object(r.a)(null)}reset(){this.selectedItem=null,this.selectedItemDetails=null;const e=this.offset.pipe(Object(d.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}onSetToClient(e){e||(this.selectedItemDetails.client=null)}setRole(e,t){this.selectedItemDetails.roles||(this.selectedItemDetails.roles=[]),t?this.selectedItemDetails.roles.push(e):this.selectedItemDetails.roles.splice(this.selectedItemDetails.roles.indexOf(e),1)}hasRole(e){var t;return null===(t=this.selectedItemDetails.roles)||void 0===t?void 0:t.includes(e)}changePassword(){this.authService.changePassword(this.selectedItem.id)}}return e.\u0275fac=function(t){return new(t||e)(p.Mb(s.D),p.Mb(E.a))},e.\u0275cmp=p.Gb({type:e,selectors:[["app-user-config"]],viewQuery:function(e,t){if(1&e&&p.Fc(u.c,1),2&e){let e;p.oc(e=p.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group","w-100"],["for","email"],["id","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning",3,"click"],["heading","Megrendel\u0151",1,"mt-2",3,"active","selectTab"],[3,"selectedClient","selectedClientChange"],["heading","Bels\u0151 felhaszn\xe1l\xf3",1,"mt-2",3,"selectTab"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input","p-2","bg-light",3,"id","ngModel","ngModelChange"],[1,"form-check-label","ml-2",3,"for"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Sb(0,"div",0),p.Sb(1,"div",1),p.wc(2,Q,20,5,"div",2),p.Rb(),p.Sb(3,"div",1),p.Sb(4,"div",3),p.Sb(5,"div",4),p.Nb(6,"fa-icon",5),p.Sb(7,"input",6),p.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Rb(),p.Sb(8,"button",7),p.Zb("click",function(){return t.add()}),p.Nb(9,"fa-icon",8),p.Rb(),p.Rb(),p.Sb(10,"div",9),p.wc(11,K,3,1,"ng-container",10),p.cc(12,"async"),p.Rb(),p.Rb(),p.Rb(),p.Rb()),2&e&&(p.Bb(2),p.hc("ngIf",t.selectedItemDetails),p.Bb(5),p.hc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.hc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.hc("ngIf",p.dc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,U.c,U.a,V.a,i.k,f.a,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[""]}),e})()}];var _=n("PCNd");let X=(()=>{class e{}return e.\u0275mod=p.Kb({type:e}),e.\u0275inj=p.Jb({factory:function(t){return new(t||e)},imports:[[i.c,c.e.forChild(J),u.d,m.c,f.f,_.a,R.b,U.b]]}),e})()}}]);