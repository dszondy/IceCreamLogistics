(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yw3L:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminSettingsModule",function(){return V});var i=n("ofXK"),c=n("tyNb"),s=n("20UA"),l=n("2Vo4"),r=n("LRne"),d=n("vkgz"),a=n("lJxs"),b=n("eIep"),o=n("gcYM"),h=n("5+tZ"),g=n("Kqap"),p=n("vxfF"),u=n("fXoL"),m=n("6NWb"),f=n("3Pt+");function v(e,t){if(1&e){const e=u.Tb();u.Sb(0,"button",2),u.Zb("click",function(){return u.pc(e),u.bc().toggle()}),u.Nb(1,"fa-icon",3),u.Rb()}if(2&e){const e=u.bc();u.hc("disabled",e.isDisabled)}}function I(e,t){if(1&e){const e=u.Tb();u.Sb(0,"button",4),u.Zb("click",function(){return u.pc(e),u.bc().toggle()}),u.Nb(1,"fa-icon",5),u.Rb()}if(2&e){const e=u.bc();u.hc("disabled",e.isDisabled)}}let S=(()=>{class e{constructor(){this.value=!1,this.valueChange=new u.n,this.isDisabled=!1}toggle(){this.value=!this.value,this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Gb({type:e,selectors:[["app-yes-no-check"]],inputs:{value:"value",isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[["class","btn btn-success","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-danger","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["icon","check"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["icon","times"]],template:function(e,t){1&e&&(u.uc(0,v,2,1,"button",0),u.uc(1,I,2,1,"button",1)),2&e&&(u.hc("ngIf",t.value),u.Bb(1),u.hc("ngIf",!t.value))},directives:[i.l,m.a],styles:[""]}),e})();var R=n("HDdC"),w=n("qCdp");function x(e,t){if(1&e&&(u.Sb(0,"div",1),u.Sb(1,"div",12),u.wc(2),u.Rb(),u.Sb(3,"div",13),u.wc(4),u.Rb(),u.Rb()),2&e){const e=t.$implicit;u.Bb(2),u.xc(e.ingredientName),u.Bb(2),u.zc("",e.amount," ",e.measurementUnit,"")}}let y=(()=>{class e{constructor(e){this.ingredientClient=e,this.recipeIngredientsChange=new u.n,this.recipeIngredients=[],this.ingredients=new R.a(e=>{e.next(this.asyncIngredientName)}).pipe(Object(h.b)(e=>this.getIngredientsAsObservable(e)))}ngOnInit(){}addItem(){this.recipeIngredients.push(new s.u({amount:this.amount,ingredientId:this.ingredientSelected.id,ingredientName:this.ingredientSelected.name,measurementUnit:this.ingredientSelected.measurementUnit})),this.amount=void 0,this.ingredientSelected=null,this.asyncIngredientName="",this.recipeIngredientsChange.emit(this.recipeIngredients)}onIngredientSelected(e){this.ingredientSelected=e.item}getIngredientsAsObservable(e){return this.ingredientClient.get(0,10,e).pipe(Object(a.a)(e=>e.content))}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.e))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-recipe-ingredients"]],inputs:{recipeIngredients:"recipeIngredients"},outputs:{recipeIngredientsChange:"recipeIngredientsChange"},decls:15,vars:11,consts:[[1,"card"],[1,"container","row","align-items-center"],[1,"col-lg-8","p-2"],["for","client",1,"form-label"],["id","client","placeholder","Keres\xe9s...","typeaheadOptionField","name",1,"form-control",3,"ngModel","isAnimated","typeaheadAsync","typeahead","typeaheadOnSelect","ngModelChange"],[1,"col-lg-3","col-11","p-2"],["for","amount",1,"form-label"],["id","amount",1,"form-control",3,"ngModel","isAnimated","min","typeahead","ngModelChange"],[1,"col-1","p-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["icon","plus"],["class","container row align-items-center",4,"ngFor","ngForOf"],[1,"col-8","p-2","pl-4"],[1,"col-4","p-2","pl-4"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"label",3),u.wc(4,"Alapanyag: "),u.Rb(),u.Sb(5,"input",4),u.Zb("typeaheadOnSelect",function(e){return t.onIngredientSelected(e)})("ngModelChange",function(e){return t.asyncIngredientName=e}),u.Rb(),u.Rb(),u.Sb(6,"div",5),u.Sb(7,"label",6),u.wc(8),u.Rb(),u.Sb(9,"input",7),u.Zb("ngModelChange",function(e){return t.amount=e}),u.Rb(),u.Rb(),u.Sb(10,"div",8),u.Sb(11,"button",9),u.Zb("click",function(){return t.addItem()}),u.Nb(12,"fa-icon",10),u.Rb(),u.Rb(),u.Nb(13,"hr"),u.uc(14,x,5,3,"div",11),u.Rb(),u.Rb()),2&e&&(u.Bb(5),u.hc("ngModel",t.asyncIngredientName)("isAnimated",!0)("typeaheadAsync",!0)("typeahead",t.ingredients),u.Bb(3),u.yc("Mennyis\xe9g (",null==t.ingredientSelected?null:t.ingredientSelected.measurementUnit,"): "),u.Bb(1),u.hc("ngModel",t.amount)("isAnimated",!0)("min",0)("typeahead",null),u.Bb(2),u.hc("disabled",!(t.ingredientSelected&&t.amount)),u.Bb(3),u.hc("ngForOf",t.recipeIngredients))},directives:[f.a,f.d,f.g,w.a,m.a,i.k],styles:[""]}),e})();function C(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",11),u.Sb(1,"div",12),u.Sb(2,"h2"),u.wc(3),u.Rb(),u.Sb(4,"button",13),u.Zb("click",function(){return u.pc(e),u.bc().close().subscribe()}),u.Nb(5,"fa-icon",14),u.Rb(),u.Rb(),u.Sb(6,"div",12),u.Sb(7,"div",15),u.Sb(8,"label",16),u.wc(9,"N\xe9v: "),u.Rb(),u.Sb(10,"input",17),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItemDetails.name=t}),u.Rb(),u.Rb(),u.Rb(),u.Sb(11,"div",18),u.Sb(12,"label",19),u.wc(13,"Rendelhet\u0151:"),u.Rb(),u.Sb(14,"app-yes-no-check",20),u.Zb("valueChange",function(t){return u.pc(e),u.bc().selectedItemDetails.canBeOrdered=t}),u.Rb(),u.Rb(),u.Sb(15,"app-recipe-ingredients",21),u.Zb("recipeIngredientsChange",function(t){return u.pc(e),u.bc().selectedItemDetails.ingredients=t}),u.Rb(),u.Rb()}if(2&e){const e=u.bc();u.Bb(3),u.xc(e.selectedItemDetails.name),u.Bb(7),u.hc("ngModel",e.selectedItemDetails.name),u.Bb(4),u.hc("value",e.selectedItemDetails.canBeOrdered),u.Bb(1),u.hc("recipeIngredients",e.selectedItemDetails.ingredients)}}const M=function(e,t,n){return{"btn-primary":e,"btn-light":t,"btn-secondary":n}};function O(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",25),u.Zb("click",function(){u.pc(e);const n=t.$implicit;return u.bc(2).select(n)}),u.Sb(1,"button",26),u.wc(2),u.Rb(),u.Rb()}if(2&e){const e=t.$implicit,n=u.bc(2);u.Bb(1),u.hc("ngClass",u.kc(2,M,e!==n.selectedItem&&e.canBeOrdered,e!==n.selectedItem&&!e.canBeOrdered,e===n.selectedItem)),u.Bb(1),u.xc(e.name)}}function B(e,t){if(1&e){const e=u.Tb();u.Qb(0,22),u.Sb(1,"cdk-virtual-scroll-viewport",23),u.Zb("scrolledIndexChange",function(n){u.pc(e);const i=t.ngIf;return u.bc().nextBatch(n,i.length)}),u.uc(2,O,3,6,"div",24),u.Rb(),u.Pb()}if(2&e){const e=t.ngIf;u.Bb(2),u.hc("cdkVirtualForOf",e)}}function k(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",11),u.Sb(1,"div",12),u.Sb(2,"h2"),u.wc(3),u.Rb(),u.Sb(4,"button",13),u.Zb("click",function(){return u.pc(e),u.bc().close().subscribe()}),u.Nb(5,"fa-icon",14),u.Rb(),u.Rb(),u.Sb(6,"div",15),u.Sb(7,"label",16),u.wc(8,"N\xe9v"),u.Rb(),u.Sb(9,"input",17),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.name=t}),u.Rb(),u.Rb(),u.Sb(10,"div",15),u.Sb(11,"label",18),u.wc(12,"Telefonsz\xe1m"),u.Rb(),u.Sb(13,"input",19),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.phone=t}),u.Rb(),u.Rb(),u.Sb(14,"div",15),u.Sb(15,"label",20),u.wc(16,"Email"),u.Rb(),u.Sb(17,"input",21),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.email=t}),u.Rb(),u.Rb(),u.Sb(18,"div",15),u.Sb(19,"label",22),u.wc(20,"Orsz\xe1g"),u.Rb(),u.Sb(21,"input",23),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.address.country=t}),u.Rb(),u.Rb(),u.Sb(22,"div",15),u.Sb(23,"label",24),u.wc(24,"Megye"),u.Rb(),u.Sb(25,"input",25),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.address.region=t}),u.Rb(),u.Rb(),u.Sb(26,"div",15),u.Sb(27,"label",26),u.wc(28,"V\xe1ros"),u.Rb(),u.Sb(29,"input",27),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.address.city=t}),u.Rb(),u.Rb(),u.Sb(30,"div",15),u.Sb(31,"label",28),u.wc(32,"C\xedm"),u.Rb(),u.Sb(33,"input",29),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.address.addressLine=t}),u.Rb(),u.Rb(),u.Sb(34,"div",15),u.Sb(35,"label",30),u.wc(36,"Ir\xe1ny\xedt\xf3sz\xe1m"),u.Rb(),u.Sb(37,"input",31),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.address.zip=t}),u.Rb(),u.Rb(),u.Rb()}if(2&e){const e=u.bc();u.Bb(3),u.xc(e.selectedItem.name),u.Bb(6),u.hc("ngModel",e.selectedItem.name),u.Bb(4),u.hc("ngModel",e.selectedItem.phone),u.Bb(4),u.hc("ngModel",e.selectedItem.email),u.Bb(4),u.hc("ngModel",e.selectedItem.address.country),u.Bb(4),u.hc("ngModel",e.selectedItem.address.region),u.Bb(4),u.hc("ngModel",e.selectedItem.address.city),u.Bb(4),u.hc("ngModel",e.selectedItem.address.addressLine),u.Bb(4),u.hc("ngModel",e.selectedItem.address.zip)}}const j=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function T(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",35),u.Zb("click",function(){u.pc(e);const n=t.$implicit;return u.bc(2).select(n)}),u.Sb(1,"button",36),u.wc(2),u.Rb(),u.Rb()}if(2&e){const e=t.$implicit,n=u.bc(2);u.Bb(1),u.hc("ngClass",u.jc(2,j,e!==n.selectedItem,e===n.selectedItem)),u.Bb(1),u.xc(e.name)}}function Z(e,t){if(1&e){const e=u.Tb();u.Qb(0,32),u.Sb(1,"cdk-virtual-scroll-viewport",33),u.Zb("scrolledIndexChange",function(n){u.pc(e);const i=t.ngIf;return u.bc().nextBatch(n,i[i.length-1].name)}),u.uc(2,T,3,5,"div",34),u.Rb(),u.Pb()}if(2&e){const e=t.ngIf;u.Bb(2),u.hc("cdkVirtualForOf",e)}}function D(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",11),u.Sb(1,"div",12),u.Sb(2,"div",13),u.Sb(3,"label",14),u.wc(4,"N\xe9v: "),u.Rb(),u.Sb(5,"input",15),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.name=t}),u.Rb(),u.Rb(),u.Sb(6,"button",16),u.Zb("click",function(){return u.pc(e),u.bc().close().subscribe()}),u.Nb(7,"fa-icon",17),u.Rb(),u.Rb(),u.Sb(8,"div",13),u.Sb(9,"label",18),u.wc(10,"M\xe9rt\xe9kegys\xe9g: "),u.Rb(),u.Sb(11,"input",19),u.Zb("ngModelChange",function(t){return u.pc(e),u.bc().selectedItem.measurementUnit=t}),u.Rb(),u.Rb(),u.Rb()}if(2&e){const e=u.bc();u.Bb(5),u.hc("ngModel",e.selectedItem.name),u.Bb(6),u.hc("ngModel",e.selectedItem.measurementUnit)}}const N=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function z(e,t){if(1&e){const e=u.Tb();u.Sb(0,"div",23),u.Zb("click",function(){u.pc(e);const n=t.$implicit;return u.bc(2).select(n)}),u.Sb(1,"button",24),u.wc(2),u.Rb(),u.Rb()}if(2&e){const e=t.$implicit,n=u.bc(2);u.Bb(1),u.hc("ngClass",u.jc(2,N,e!==n.selectedItem,e===n.selectedItem)),u.Bb(1),u.xc(e.name)}}function A(e,t){if(1&e){const e=u.Tb();u.Qb(0,20),u.Sb(1,"cdk-virtual-scroll-viewport",21),u.Zb("scrolledIndexChange",function(n){u.pc(e);const i=t.ngIf;return u.bc().nextBatch(n,i.length)}),u.uc(2,z,3,5,"div",22),u.Rb(),u.Pb()}if(2&e){const e=t.ngIf;u.Bb(2),u.hc("cdkVirtualForOf",e)}}const F=[{path:"recipes",component:(()=>{class e{constructor(e){this.recipeClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.recipeClient.list(e,this.batch,this.searchText).pipe(Object(d.a)(e=>this.theEnd=!e.hasMore),Object(a.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().pipe(Object(a.a)(()=>this.selectedItem=e),Object(b.a)(()=>this.recipeClient.get(e.id)),Object(d.a)(e=>this.selectedItemDetails=e)).subscribe()}onSearchTextChange(e){this.reset()}add(){this.selectedItemDetails=new s.t({name:this.searchText,id:void 0,canBeOrdered:!0,ingredients:[]})}close(){if(this.selectedItemDetails){const e=new s.r({id:this.selectedItemDetails.id,name:this.selectedItemDetails.name,canBeOrdered:this.selectedItemDetails.canBeOrdered,ingredients:[...this.selectedItemDetails.ingredients.map(e=>new s.s({ingredientId:e.ingredientId,amount:e.amount}))]});return this.selectedItemDetails.id?this.recipeClient.put(e.id,e).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.recipeClient.post(e).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""}))}return Object(r.a)(null)}reset(){this.selectedItem=null,this.selectedItemDetails=null;const e=this.offset.pipe(Object(o.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.q))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-recipe-config"]],viewQuery:function(e,t){if(1&e&&u.Bc(p.c,1),2&e){let e;u.mc(e=u.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group","w-100"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"mr-2"],[3,"value","valueChange"],[3,"recipeIngredients","recipeIngredientsChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.uc(2,C,16,4,"div",2),u.Rb(),u.Sb(3,"div",1),u.Sb(4,"div",3),u.Sb(5,"div",4),u.Nb(6,"fa-icon",5),u.Sb(7,"input",6),u.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),u.Rb(),u.Sb(8,"button",7),u.Zb("click",function(){return t.add()}),u.Nb(9,"fa-icon",8),u.Rb(),u.Rb(),u.Sb(10,"div",9),u.uc(11,B,3,1,"ng-container",10),u.cc(12,"async"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(2),u.hc("ngIf",t.selectedItemDetails),u.Bb(5),u.hc("ngModel",t.searchText)("readOnly",t.selectedItem),u.Bb(1),u.hc("disabled",!t.canAdd||t.selectedItem),u.Bb(3),u.hc("ngIf",u.dc(12,5,t.items)))},directives:[i.l,m.a,f.a,f.d,f.g,S,y,p.c,p.a,p.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})()},{path:"clients",component:(()=>{class e{constructor(e){this.clientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.clientClient.get(e,this.batch,this.searchText).pipe(Object(d.a)(e=>this.theEnd=!e.hasMore),Object(a.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.c({name:this.searchText,email:"",phone:"",id:void 0,address:new s.b})}close(){return this.selectedItem?this.selectedItem.id?this.clientClient.put(this.selectedItem).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.clientClient.post(this.selectedItem).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(r.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(o.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.d))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-client-config"]],viewQuery:function(e,t){if(1&e&&u.Bc(p.c,1),2&e){let e;u.mc(e=u.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["id","phone","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","country"],["id","country","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","region"],["id","region","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","city"],["id","city","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressLine"],["id","addressLine","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","zip"],["id","zip","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.uc(2,k,38,9,"div",2),u.Rb(),u.Sb(3,"div",1),u.Sb(4,"div",3),u.Sb(5,"div",4),u.Nb(6,"fa-icon",5),u.Sb(7,"input",6),u.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),u.Rb(),u.Sb(8,"button",7),u.Zb("click",function(){return t.add()}),u.Nb(9,"fa-icon",8),u.Rb(),u.Rb(),u.Sb(10,"div",9),u.uc(11,Z,3,1,"ng-container",10),u.cc(12,"async"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(2),u.hc("ngIf",t.selectedItem),u.Bb(5),u.hc("ngModel",t.searchText)("readOnly",t.selectedItem),u.Bb(1),u.hc("disabled",!t.canAdd||t.selectedItem),u.Bb(3),u.hc("ngIf",u.dc(12,5,t.items)))},directives:[i.l,m.a,f.a,f.d,f.g,p.c,p.a,p.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})()},{path:"ingredients",component:(()=>{class e{constructor(e){this.ingredientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.ingredientClient.get(e,this.batch,this.searchText).pipe(Object(d.a)(e=>this.theEnd=!e.hasMore),Object(a.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.f({name:this.searchText,id:void 0,measurementUnit:"darab",amountOnHand:0})}close(){var e;return this.selectedItem?(null===(e=this.selectedItem)||void 0===e?void 0:e.id)?this.ingredientClient.put(this.selectedItem).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.ingredientClient.post(this.selectedItem).pipe(Object(d.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(r.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(o.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(s.e))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-ingredient-config"]],viewQuery:function(e,t){if(1&e&&u.Bc(p.c,1),2&e){let e;u.mc(e=u.ac())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],["for","measurement"],["id","measurement","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-1",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-1",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.uc(2,D,12,2,"div",2),u.Rb(),u.Sb(3,"div",1),u.Sb(4,"div",3),u.Sb(5,"div",4),u.Nb(6,"fa-icon",5),u.Sb(7,"input",6),u.Zb("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),u.Rb(),u.Sb(8,"button",7),u.Zb("click",function(){return t.add()}),u.Nb(9,"fa-icon",8),u.Rb(),u.Rb(),u.Sb(10,"div",9),u.uc(11,A,3,1,"ng-container",10),u.cc(12,"async"),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&e&&(u.Bb(2),u.hc("ngIf",t.selectedItem),u.Bb(5),u.hc("ngModel",t.searchText)("readOnly",t.selectedItem),u.Bb(1),u.hc("disabled",!t.canAdd||t.selectedItem),u.Bb(3),u.hc("ngIf",u.dc(12,5,t.items)))},directives:[i.l,m.a,f.a,f.d,f.g,p.c,p.a,p.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})()}];var P=n("PCNd");let V=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)},imports:[[i.c,c.d.forChild(F),p.d,m.c,f.b,P.a,w.b]]}),e})()}}]);