(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Yw3L:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminSettingsModule",function(){return G});var i=n("ofXK"),c=n("tyNb"),s=n("20UA"),l=n("2Vo4"),a=n("LRne"),r=n("vkgz"),o=n("lJxs"),d=n("eIep"),b=n("gcYM"),h=n("5+tZ"),g=n("Kqap"),u=n("vxfF"),p=n("fXoL"),m=n("6NWb"),f=n("3Pt+");function v(e,t){if(1&e){const e=p.Ub();p.Tb(0,"button",2),p.ac("click",function(){return p.vc(e),p.ec().toggle()}),p.Ob(1,"fa-icon",3),p.Sb()}if(2&e){const e=p.ec();p.kc("disabled",e.isDisabled)}}function T(e,t){if(1&e){const e=p.Ub();p.Tb(0,"button",4),p.ac("click",function(){return p.vc(e),p.ec().toggle()}),p.Ob(1,"fa-icon",5),p.Sb()}if(2&e){const e=p.ec();p.kc("disabled",e.isDisabled)}}let I=(()=>{class e{constructor(){this.value=!1,this.valueChange=new p.n,this.isDisabled=!1}toggle(){this.value=!this.value,this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Hb({type:e,selectors:[["app-yes-no-check"]],inputs:{value:"value",isDisabled:"isDisabled"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[["class","btn btn-success","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-danger","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["icon","check"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["icon","times"]],template:function(e,t){1&e&&(p.Ac(0,v,2,1,"button",0),p.Ac(1,T,2,1,"button",1)),2&e&&(p.kc("ngIf",t.value),p.Bb(1),p.kc("ngIf",!t.value))},directives:[i.l,m.a],styles:[""]}),e})();var S=n("HDdC"),C=n("qCdp");function k(e,t){if(1&e&&(p.Tb(0,"div",1),p.Tb(1,"div",12),p.Cc(2),p.Sb(),p.Tb(3,"div",13),p.Cc(4),p.Sb(),p.Sb()),2&e){const e=t.$implicit;p.Bb(2),p.Dc(e.ingredientName),p.Bb(2),p.Fc("",e.amount," ",e.measurementUnit,"")}}let y=(()=>{class e{constructor(e){this.ingredientClient=e,this.recipeIngredientsChange=new p.n,this.recipeIngredients=[],this.ingredients=new S.a(e=>{e.next(this.asyncIngredientName)}).pipe(Object(h.b)(e=>this.getIngredientsAsObservable(e)))}ngOnInit(){}addItem(){this.recipeIngredients.push(new s.D({amount:this.amount,ingredientId:this.ingredientSelected.id,ingredientName:this.ingredientSelected.name,measurementUnit:this.ingredientSelected.measurementUnit})),this.amount=void 0,this.ingredientSelected=null,this.asyncIngredientName="",this.recipeIngredientsChange.emit(this.recipeIngredients)}onIngredientSelected(e){this.ingredientSelected=e.item}getIngredientsAsObservable(e){return this.ingredientClient.get(0,10,e).pipe(Object(o.a)(e=>e.content))}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(s.j))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-recipe-ingredients"]],inputs:{recipeIngredients:"recipeIngredients"},outputs:{recipeIngredientsChange:"recipeIngredientsChange"},decls:15,vars:11,consts:[[1,"card"],[1,"container","row","align-items-center"],[1,"col-lg-8","p-2"],["for","client",1,"form-label"],["id","client","placeholder","Keres\xe9s...","typeaheadOptionField","name",1,"form-control",3,"ngModel","isAnimated","typeaheadAsync","typeahead","typeaheadOnSelect","ngModelChange"],[1,"col-lg-3","col-11","p-2"],["for","amount",1,"form-label"],["id","amount",1,"form-control",3,"ngModel","isAnimated","min","typeahead","ngModelChange"],[1,"col-1","p-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["icon","plus"],["class","container row align-items-center",4,"ngFor","ngForOf"],[1,"col-8","p-2","pl-4"],[1,"col-4","p-2","pl-4"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"label",3),p.Cc(4,"Alapanyag: "),p.Sb(),p.Tb(5,"input",4),p.ac("typeaheadOnSelect",function(e){return t.onIngredientSelected(e)})("ngModelChange",function(e){return t.asyncIngredientName=e}),p.Sb(),p.Sb(),p.Tb(6,"div",5),p.Tb(7,"label",6),p.Cc(8),p.Sb(),p.Tb(9,"input",7),p.ac("ngModelChange",function(e){return t.amount=e}),p.Sb(),p.Sb(),p.Tb(10,"div",8),p.Tb(11,"button",9),p.ac("click",function(){return t.addItem()}),p.Ob(12,"fa-icon",10),p.Sb(),p.Sb(),p.Ob(13,"hr"),p.Ac(14,k,5,3,"div",11),p.Sb(),p.Sb()),2&e&&(p.Bb(5),p.kc("ngModel",t.asyncIngredientName)("isAnimated",!0)("typeaheadAsync",!0)("typeahead",t.ingredients),p.Bb(3),p.Ec("Mennyis\xe9g (",null==t.ingredientSelected?null:t.ingredientSelected.measurementUnit,"): "),p.Bb(1),p.kc("ngModel",t.amount)("isAnimated",!0)("min",0)("typeahead",null),p.Bb(2),p.kc("disabled",!(t.ingredientSelected&&t.amount)),p.Bb(3),p.kc("ngForOf",t.recipeIngredients))},directives:[f.b,f.h,f.j,C.a,m.a,i.k],styles:[""]}),e})();function x(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",11),p.Tb(1,"div",12),p.Tb(2,"h2"),p.Cc(3),p.Sb(),p.Tb(4,"button",13),p.ac("click",function(){return p.vc(e),p.ec().close().subscribe()}),p.Ob(5,"fa-icon",14),p.Sb(),p.Sb(),p.Tb(6,"div",12),p.Tb(7,"div",15),p.Tb(8,"label",16),p.Cc(9,"N\xe9v: "),p.Sb(),p.Tb(10,"input",17),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItemDetails.name=t}),p.Sb(),p.Sb(),p.Sb(),p.Tb(11,"div",18),p.Tb(12,"label",19),p.Cc(13,"Rendelhet\u0151:"),p.Sb(),p.Tb(14,"app-yes-no-check",20),p.ac("valueChange",function(t){return p.vc(e),p.ec().selectedItemDetails.canBeOrdered=t}),p.Sb(),p.Sb(),p.Tb(15,"div",12),p.Tb(16,"div",15),p.Tb(17,"label",21),p.Cc(18,"Le\xedr\xe1s(c\xedmk\xe9kre): "),p.Sb(),p.Tb(19,"input",22),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItemDetails.descriptionForLabels=t}),p.Sb(),p.Sb(),p.Sb(),p.Tb(20,"div",12),p.Tb(21,"div",15),p.Tb(22,"label",23),p.Cc(23,"Egys\xe9g\xe1r: "),p.Sb(),p.Tb(24,"input",24),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItemDetails.pricePerUnit=t}),p.Sb(),p.Sb(),p.Sb(),p.Tb(25,"app-recipe-ingredients",25),p.ac("recipeIngredientsChange",function(t){return p.vc(e),p.ec().selectedItemDetails.ingredients=t}),p.Sb(),p.Sb()}if(2&e){const e=p.ec();p.Bb(3),p.Dc(e.selectedItemDetails.name),p.Bb(7),p.kc("ngModel",e.selectedItemDetails.name),p.Bb(4),p.kc("value",e.selectedItemDetails.canBeOrdered),p.Bb(5),p.kc("ngModel",e.selectedItemDetails.descriptionForLabels),p.Bb(5),p.kc("ngModel",e.selectedItemDetails.pricePerUnit),p.Bb(1),p.kc("recipeIngredients",e.selectedItemDetails.ingredients)}}const M=function(e,t,n){return{"btn-primary":e,"btn-light":t,"btn-secondary":n}};function w(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",29),p.ac("click",function(){p.vc(e);const n=t.$implicit;return p.ec(2).select(n)}),p.Tb(1,"button",30),p.Cc(2),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,n=p.ec(2);p.Bb(1),p.kc("ngClass",p.qc(2,M,e!==n.selectedItem&&e.canBeOrdered,e!==n.selectedItem&&!e.canBeOrdered,e===n.selectedItem)),p.Bb(1),p.Dc(e.name)}}function O(e,t){if(1&e){const e=p.Ub();p.Rb(0,26),p.Tb(1,"cdk-virtual-scroll-viewport",27),p.ac("scrolledIndexChange",function(n){p.vc(e);const i=t.ngIf;return p.ec().nextBatch(n,i.length)}),p.Ac(2,w,3,6,"div",28),p.Sb(),p.Qb()}if(2&e){const e=t.ngIf;p.Bb(2),p.kc("cdkVirtualForOf",e)}}let B=(()=>{class e{constructor(e){this.recipeClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.recipeClient.list(e,this.batch,this.searchText).pipe(Object(r.a)(e=>this.theEnd=!e.hasMore),Object(o.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().pipe(Object(o.a)(()=>this.selectedItem=e),Object(d.a)(()=>this.recipeClient.get(e.id)),Object(r.a)(e=>this.selectedItemDetails=e)).subscribe()}onSearchTextChange(e){this.reset()}add(){this.selectedItemDetails=new s.C({descriptionForLabels:"",pricePerUnit:0,name:this.searchText,id:void 0,canBeOrdered:!0,ingredients:[]})}close(){if(this.selectedItemDetails){const e=new s.A({id:this.selectedItemDetails.id,name:this.selectedItemDetails.name,canBeOrdered:this.selectedItemDetails.canBeOrdered,descriptionForLabels:this.selectedItemDetails.descriptionForLabels,pricePerUnit:this.selectedItemDetails.pricePerUnit,ingredients:[...this.selectedItemDetails.ingredients.map(e=>new s.B({ingredientId:e.ingredientId,amount:e.amount}))]});return this.selectedItemDetails.id?this.recipeClient.put(e.id,e).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.recipeClient.post(e).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""}))}return Object(a.a)(null)}reset(){this.selectedItem=null,this.selectedItemDetails=null;const e=this.offset.pipe(Object(b.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(s.z))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-recipe-config"]],viewQuery:function(e,t){if(1&e&&p.Jc(u.c,1),2&e){let e;p.sc(e=p.bc())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group","w-100"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"mr-2"],[3,"value","valueChange"],["for","description"],["id","description","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],["id","price","type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"recipeIngredients","recipeIngredientsChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-2",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-2",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Ac(2,x,26,6,"div",2),p.Sb(),p.Tb(3,"div",1),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Ob(6,"fa-icon",5),p.Tb(7,"input",6),p.ac("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Sb(),p.Tb(8,"button",7),p.ac("click",function(){return t.add()}),p.Ob(9,"fa-icon",8),p.Sb(),p.Sb(),p.Tb(10,"div",9),p.Ac(11,O,3,1,"ng-container",10),p.fc(12,"async"),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&e&&(p.Bb(2),p.kc("ngIf",t.selectedItemDetails),p.Bb(5),p.kc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.kc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.kc("ngIf",p.gc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,I,f.k,y,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function j(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",11),p.Tb(1,"div",12),p.Tb(2,"h2"),p.Cc(3),p.Sb(),p.Tb(4,"button",13),p.ac("click",function(){return p.vc(e),p.ec().close().subscribe()}),p.Ob(5,"fa-icon",14),p.Sb(),p.Sb(),p.Tb(6,"div",15),p.Tb(7,"label",16),p.Cc(8,"N\xe9v"),p.Sb(),p.Tb(9,"input",17),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.name=t}),p.Sb(),p.Sb(),p.Tb(10,"div",15),p.Tb(11,"label",18),p.Cc(12,"Telefonsz\xe1m"),p.Sb(),p.Tb(13,"input",19),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.phone=t}),p.Sb(),p.Sb(),p.Tb(14,"div",15),p.Tb(15,"label",20),p.Cc(16,"Email"),p.Sb(),p.Tb(17,"input",21),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.email=t}),p.Sb(),p.Sb(),p.Tb(18,"div",15),p.Tb(19,"label",22),p.Cc(20,"Orsz\xe1g"),p.Sb(),p.Tb(21,"input",23),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.address.country=t}),p.Sb(),p.Sb(),p.Tb(22,"div",15),p.Tb(23,"label",24),p.Cc(24,"Megye"),p.Sb(),p.Tb(25,"input",25),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.address.region=t}),p.Sb(),p.Sb(),p.Tb(26,"div",15),p.Tb(27,"label",26),p.Cc(28,"V\xe1ros"),p.Sb(),p.Tb(29,"input",27),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.address.city=t}),p.Sb(),p.Sb(),p.Tb(30,"div",15),p.Tb(31,"label",28),p.Cc(32,"C\xedm"),p.Sb(),p.Tb(33,"input",29),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.address.addressLine=t}),p.Sb(),p.Sb(),p.Tb(34,"div",15),p.Tb(35,"label",30),p.Cc(36,"Ir\xe1ny\xedt\xf3sz\xe1m"),p.Sb(),p.Tb(37,"input",31),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.address.zip=t}),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=p.ec();p.Bb(3),p.Dc(e.selectedItem.name),p.Bb(6),p.kc("ngModel",e.selectedItem.name),p.Bb(4),p.kc("ngModel",e.selectedItem.phone),p.Bb(4),p.kc("ngModel",e.selectedItem.email),p.Bb(4),p.kc("ngModel",e.selectedItem.address.country),p.Bb(4),p.kc("ngModel",e.selectedItem.address.region),p.Bb(4),p.kc("ngModel",e.selectedItem.address.city),p.Bb(4),p.kc("ngModel",e.selectedItem.address.addressLine),p.Bb(4),p.kc("ngModel",e.selectedItem.address.zip)}}const D=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function A(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",35),p.ac("click",function(){p.vc(e);const n=t.$implicit;return p.ec(2).select(n)}),p.Tb(1,"button",36),p.Cc(2),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,n=p.ec(2);p.Bb(1),p.kc("ngClass",p.pc(2,D,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.Dc(e.name)}}function U(e,t){if(1&e){const e=p.Ub();p.Rb(0,32),p.Tb(1,"cdk-virtual-scroll-viewport",33),p.ac("scrolledIndexChange",function(n){p.vc(e);const i=t.ngIf;return p.ec().nextBatch(n,i[i.length-1].name)}),p.Ac(2,A,3,5,"div",34),p.Sb(),p.Qb()}if(2&e){const e=t.ngIf;p.Bb(2),p.kc("cdkVirtualForOf",e)}}let z=(()=>{class e{constructor(e){this.clientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.clientClient.get(e,this.batch,this.searchText).pipe(Object(r.a)(e=>this.theEnd=!e.hasMore),Object(o.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.d({name:this.searchText,email:"",phone:"",id:void 0,address:new s.b})}close(){return this.selectedItem?this.selectedItem.id?this.clientClient.put(this.selectedItem).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.clientClient.post(this.selectedItem).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(a.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(b.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(s.e))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-client-config"]],viewQuery:function(e,t){if(1&e&&p.Jc(u.c,1),2&e){let e;p.sc(e=p.bc())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["id","phone","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","country"],["id","country","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","region"],["id","region","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","city"],["id","city","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","addressLine"],["id","addressLine","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","zip"],["id","zip","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-2",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-2",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Ac(2,j,38,9,"div",2),p.Sb(),p.Tb(3,"div",1),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Ob(6,"fa-icon",5),p.Tb(7,"input",6),p.ac("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Sb(),p.Tb(8,"button",7),p.ac("click",function(){return t.add()}),p.Ob(9,"fa-icon",8),p.Sb(),p.Sb(),p.Tb(10,"div",9),p.Ac(11,U,3,1,"ng-container",10),p.fc(12,"async"),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&e&&(p.Bb(2),p.kc("ngIf",t.selectedItem),p.Bb(5),p.kc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.kc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.kc("ngIf",p.gc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();function F(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",11),p.Tb(1,"div",12),p.Tb(2,"div",13),p.Tb(3,"label",14),p.Cc(4,"N\xe9v: "),p.Sb(),p.Tb(5,"input",15),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.name=t}),p.Sb(),p.Sb(),p.Tb(6,"button",16),p.ac("click",function(){return p.vc(e),p.ec().close().subscribe()}),p.Ob(7,"fa-icon",17),p.Sb(),p.Sb(),p.Tb(8,"div",13),p.Tb(9,"label",18),p.Cc(10,"M\xe9rt\xe9kegys\xe9g: "),p.Sb(),p.Tb(11,"input",19),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.measurementUnit=t}),p.Sb(),p.Sb(),p.Tb(12,"div",13),p.Tb(13,"label",20),p.Cc(14,"Rendel\xe9si mennyis\xe9g(Csomag): "),p.Sb(),p.Tb(15,"input",21),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.quantityPerPackage=t}),p.Sb(),p.Sb(),p.Tb(16,"div",13),p.Tb(17,"label",22),p.Cc(18,"Rakt\xe1r riaszt\xe1si szint: "),p.Sb(),p.Tb(19,"input",23),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItem.warningThreshold=t}),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=p.ec();p.Bb(5),p.kc("ngModel",e.selectedItem.name),p.Bb(6),p.kc("ngModel",e.selectedItem.measurementUnit),p.Bb(4),p.kc("ngModel",e.selectedItem.quantityPerPackage),p.Bb(4),p.kc("ngModel",e.selectedItem.warningThreshold)}}const P=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function E(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",27),p.ac("click",function(){p.vc(e);const n=t.$implicit;return p.ec(2).select(n)}),p.Tb(1,"button",28),p.Cc(2),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,n=p.ec(2);p.Bb(1),p.kc("ngClass",p.pc(2,P,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.Dc(e.name)}}function R(e,t){if(1&e){const e=p.Ub();p.Rb(0,24),p.Tb(1,"cdk-virtual-scroll-viewport",25),p.ac("scrolledIndexChange",function(n){p.vc(e);const i=t.ngIf;return p.ec().nextBatch(n,i.length)}),p.Ac(2,E,3,5,"div",26),p.Sb(),p.Qb()}if(2&e){const e=t.ngIf;p.Bb(2),p.kc("cdkVirtualForOf",e)}}let L=(()=>{class e{constructor(e){this.ingredientClient=e,this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.ingredientClient.get(e,this.batch,this.searchText).pipe(Object(r.a)(e=>this.theEnd=!e.hasMore),Object(o.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().subscribe(()=>this.selectedItem=e)}onSearchTextChange(e){this.reset()}add(){this.selectedItem=new s.k({name:this.searchText,id:void 0,measurementUnit:"darab",amountOnHand:0,quantityPerPackage:1,warningThreshold:0})}close(){var e;return this.selectedItem?(null===(e=this.selectedItem)||void 0===e?void 0:e.id)?this.ingredientClient.put(this.selectedItem).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):this.ingredientClient.post(this.selectedItem).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.reset(),this.searchText=""})):Object(a.a)(null)}reset(){this.selectedItem=null;const e=this.offset.pipe(Object(b.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(s.j))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-ingredient-config"]],viewQuery:function(e,t){if(1&e&&p.Jc(u.c,1),2&e){let e;p.sc(e=p.bc())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"form-group"],["for","name"],["id","name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],["for","measurementUnit"],["id","measurementUnit","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","quantityPerPackage"],["id","quantityPerPackage","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","warningThreshold"],["id","warningThreshold","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto m-2",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","m-2",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Ac(2,F,20,4,"div",2),p.Sb(),p.Tb(3,"div",1),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Ob(6,"fa-icon",5),p.Tb(7,"input",6),p.ac("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Sb(),p.Tb(8,"button",7),p.ac("click",function(){return t.add()}),p.Ob(9,"fa-icon",8),p.Sb(),p.Sb(),p.Tb(10,"div",9),p.Ac(11,R,3,1,"ng-container",10),p.fc(12,"async"),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&e&&(p.Bb(2),p.kc("ngIf",t.selectedItem),p.Bb(5),p.kc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.kc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.kc("ngIf",p.gc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[".picklist-viewport[_ngcontent-%COMP%]{height:70vh;width:100%}.example-item[_ngcontent-%COMP%]{height:50px}"]}),e})();var N=n("KQdn"),V=n("44PX"),$=n("wAQb");function Q(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",23),p.Tb(1,"div"),p.Tb(2,"input",24),p.ac("ngModelChange",function(n){p.vc(e);const i=t.$implicit;return p.ec(2).setRole(i,n)}),p.Sb(),p.Tb(3,"label",25),p.Cc(4),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,n=p.ec(2);p.Bb(2),p.lc("id","role-",e,""),p.kc("ngModel",n.hasRole(e)),p.Bb(1),p.lc("for","role-",e,""),p.Bb(1),p.Dc(n.roles.get(e))}}function H(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",11),p.Tb(1,"div",12),p.Tb(2,"h2"),p.Cc(3),p.Sb(),p.Tb(4,"button",13),p.ac("click",function(){return p.vc(e),p.ec().close().subscribe()}),p.Ob(5,"fa-icon",14),p.Sb(),p.Sb(),p.Tb(6,"div",12),p.Tb(7,"div",15),p.Tb(8,"label",16),p.Cc(9,"Email: "),p.Sb(),p.Tb(10,"input",17),p.ac("ngModelChange",function(t){return p.vc(e),p.ec().selectedItemDetails.email=t}),p.Sb(),p.Sb(),p.Sb(),p.Tb(11,"button",18),p.ac("click",function(){return p.vc(e),p.ec().changePassword()}),p.Cc(12,"Jelsz\xf3 m\xf3dos\xedt\xe1sa"),p.Sb(),p.Tb(13,"tabset"),p.Tb(14,"tab",19),p.ac("selectTab",function(){return p.vc(e),p.ec().onSetToClient(!0)}),p.Tb(15,"app-client-select",20),p.ac("selectedClientChange",function(t){return p.vc(e),p.ec().selectedItemDetails.client=t}),p.Sb(),p.Sb(),p.Tb(16,"tab",21),p.ac("selectTab",function(){return p.vc(e),p.ec().onSetToClient(!1)}),p.Tb(17,"h4"),p.Cc(18,"Jogosults\xe1gok:"),p.Sb(),p.Ac(19,Q,5,4,"div",22),p.Sb(),p.Sb(),p.Sb()}if(2&e){const e=p.ec();p.Bb(3),p.Dc(e.selectedItemDetails.name),p.Bb(7),p.kc("ngModel",e.selectedItemDetails.email),p.Bb(4),p.kc("active",!!e.selectedItemDetails.client),p.Bb(1),p.kc("selectedClient",e.selectedItemDetails.client),p.Bb(4),p.kc("ngForOf",e.roleTypes)}}const J=function(e,t){return{"btn-primary":e,"btn-secondary":t}};function q(e,t){if(1&e){const e=p.Ub();p.Tb(0,"div",29),p.ac("click",function(){p.vc(e);const n=t.$implicit;return p.ec(2).select(n)}),p.Tb(1,"button",30),p.Cc(2),p.Sb(),p.Sb()}if(2&e){const e=t.$implicit,n=p.ec(2);p.Bb(1),p.kc("ngClass",p.pc(2,J,e!==n.selectedItem,e===n.selectedItem)),p.Bb(1),p.Dc(e.name)}}function K(e,t){if(1&e){const e=p.Ub();p.Rb(0,26),p.Tb(1,"cdk-virtual-scroll-viewport",27),p.ac("scrolledIndexChange",function(n){p.vc(e);const i=t.ngIf;return p.ec().nextBatch(n,i.length)}),p.Ac(2,q,3,5,"div",28),p.Sb(),p.Qb()}if(2&e){const e=t.ngIf;p.Bb(2),p.kc("cdkVirtualForOf",e)}}const _=[{path:"recipes",component:B},{path:"clients",component:z},{path:"ingredients",component:L},{path:"users",component:(()=>{class e{constructor(e,t){this.securityClient=e,this.authService=t,this.roles=new Map([[s.E.Admin,"Admin"],[s.E.Order,"Megrendel\xe9s"],[s.E.Manufacturing,"Gy\xe1rt\xe1s"],[s.E.Delivery,"Kisz\xe1ll\xed\xe1s"],[s.E.Configuration,"Konfigur\xe1cio"]]),this.roleTypes=[...this.roles.keys()],this.searchText="",this.batch=20,this.theEnd=!1,this.offset=new l.a(0),this.canAdd=!0,this.reset()}getBatch(e){return this.securityClient.list(this.searchText,e,this.batch).pipe(Object(r.a)(e=>this.theEnd=!e.hasMore),Object(o.a)(e=>e.content))}nextBatch(e,t){this.theEnd||this.viewport.getRenderedRange().end===this.viewport.getDataLength()&&this.offset.next(t)}ngOnInit(){}select(e){this.close().pipe(Object(o.a)(()=>this.selectedItem=e),Object(d.a)(()=>this.securityClient.getUserInfo(e.id)),Object(r.a)(e=>this.selectedItemDetails=e)).subscribe()}onSearchTextChange(e){this.reset()}add(){this.selectedItemDetails=new s.H({name:this.searchText,id:void 0,roles:[],client:null,email:""})}close(){var e;if(this.selectedItemDetails){const t=new s.G({name:this.selectedItemDetails.name,email:this.selectedItemDetails.email,roles:this.selectedItemDetails.roles,clientId:null===(e=this.selectedItemDetails.client)||void 0===e?void 0:e.id});return this.selectedItemDetails.id?this.securityClient.update(t,this.selectedItemDetails.id).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.searchText=""})):this.securityClient.create(t).pipe(Object(r.a)(e=>{Object.assign(this.selectedItem,e),this.searchText=""}))}return Object(a.a)(null)}reset(){this.selectedItem=null,this.selectedItemDetails=null;const e=this.offset.pipe(Object(b.a)(500),Object(h.b)(e=>this.getBatch(e)),Object(g.a)((e,t)=>e.concat(t),[]));this.items=e.pipe()}onSetToClient(e){e||(this.selectedItemDetails.client=null)}setRole(e,t){this.selectedItemDetails.roles||(this.selectedItemDetails.roles=[]),t?this.selectedItemDetails.roles.push(e):this.selectedItemDetails.roles.splice(this.selectedItemDetails.roles.indexOf(e),1)}hasRole(e){var t;return null===(t=this.selectedItemDetails.roles)||void 0===t?void 0:t.includes(e)}changePassword(){this.authService.changePassword(this.selectedItem.id)}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(s.F),p.Nb(N.a))},e.\u0275cmp=p.Hb({type:e,selectors:[["app-user-config"]],viewQuery:function(e,t){if(1&e&&p.Jc(u.c,1),2&e){let e;p.sc(e=p.bc())&&(t.viewport=e.first)}},decls:13,vars:7,consts:[[1,"d-flex","row","flex-row-reverse","m-2"],[1,"col-lg-6","p-2"],["class","card w-100 p-2",4,"ngIf"],[1,"card"],[1,"d-flex","align-items-center","justify-content-lg-start"],["icon","search",2,"font-size","20px"],["type","text",1,"form-control","m-2",3,"ngModel","readOnly","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],["icon","plus",2,"font-size","20px"],[1,"picklist-viewport","card","bg-light"],["class","picklist-viewport",4,"ngIf"],[1,"card","w-100","p-2"],[1,"d-flex","justify-content-between","align-items-center","pb-2"],[1,"btn","btn-light",3,"click"],["icon","times",2,"font-size","20px"],[1,"form-group","w-100"],["for","email"],["id","email","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning",3,"click"],["heading","Megrendel\u0151",1,"mt-2",3,"active","selectTab"],[3,"selectedClient","selectedClientChange"],["heading","Bels\u0151 felhaszn\xe1l\xf3",1,"mt-2",3,"selectTab"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",1,"form-check-input","p-2","bg-light",3,"id","ngModel","ngModelChange"],[1,"form-check-label","ml-2",3,"for"],[1,"picklist-viewport"],["itemSize","50",1,"picklist-viewport",3,"scrolledIndexChange"],["class","example-item auto 2",3,"click",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"example-item","auto","2",3,"click"],[1,"btn","w-100",3,"ngClass"]],template:function(e,t){1&e&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Ac(2,H,20,5,"div",2),p.Sb(),p.Tb(3,"div",1),p.Tb(4,"div",3),p.Tb(5,"div",4),p.Ob(6,"fa-icon",5),p.Tb(7,"input",6),p.ac("ngModelChange",function(e){return t.onSearchTextChange(e)})("ngModelChange",function(e){return t.searchText=e}),p.Sb(),p.Tb(8,"button",7),p.ac("click",function(){return t.add()}),p.Ob(9,"fa-icon",8),p.Sb(),p.Sb(),p.Tb(10,"div",9),p.Ac(11,K,3,1,"ng-container",10),p.fc(12,"async"),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&e&&(p.Bb(2),p.kc("ngIf",t.selectedItemDetails),p.Bb(5),p.kc("ngModel",t.searchText)("readOnly",t.selectedItem),p.Bb(1),p.kc("disabled",!t.canAdd||t.selectedItem),p.Bb(3),p.kc("ngIf",p.gc(12,5,t.items)))},directives:[i.l,m.a,f.b,f.h,f.j,V.c,V.a,$.a,i.k,f.a,u.c,u.a,u.b,i.j],pipes:[i.b],styles:[""]}),e})()}];var X=n("PCNd");let G=(()=>{class e{}return e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({factory:function(t){return new(t||e)},imports:[[i.c,c.e.forChild(_),u.d,m.c,f.f,X.a,C.b,V.b]]}),e})()}}]);